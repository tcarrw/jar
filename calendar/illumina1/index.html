<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Illumina 1 â€“ Launch Cycle Â· Calendar</title>
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Ctext y='0.9em' font-size='90'%3EðŸ“…%3C/text%3E%3C/svg%3E">
<style>
:root{--bg:#0b0b0d;--panel:#121216;--ink:#eaeaf2;--muted:#a9adc2;--accent:#9dfcff;--accent2:#ffd36b}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--ink);font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
.wrap{max-width:1100px;margin:auto;padding:20px}
header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:12px}
h1{margin:6px 0;font-size:26px}.sub{color:var(--muted)}
nav a{display:inline-block;margin-right:8px;margin-top:6px;padding:8px 10px;border-radius:10px;border:1px solid #23263a;background:#151726;color:#e9ecff;text-decoration:none}
.panel{background:#121216;border:1px solid #1e2030;border-radius:16px;padding:14px}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid #2a2d40;background:#141623;color:#cfd3ea;font-size:12px}
.grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin-top:10px}
.cell{border:1px solid #23263a;border-radius:10px;padding:10px;background:#0f1119;min-height:88px;display:grid;gap:6px}
.cell b{display:block}
.meta{font-size:12px;color:#cfd3ea}
.links{display:flex;gap:6px;flex-wrap:wrap}
.btn{display:inline-block;padding:6px 8px;border-radius:8px;border:1px solid #23263a;background:#151726;color:#e9ecff;text-decoration:none;font-size:12px}
footer{color:var(--muted);margin-top:12px}
:root[data-mode="honey"] body{background:linear-gradient(180deg,rgba(255,211,107,.10),transparent),var(--bg)}
:root[data-mode="neon"]  body{background:linear-gradient(180deg,rgba(157,252,255,.10),transparent),var(--bg)}
</style></head><body><div class="wrap">
<header>
  <div>
    <h1>Illumina 1 â€“ Launch Cycle</h1>
    <div class="sub">Nov 5 â€“ Dec 17, 2025 Â· Theme: Mantra + Honey + Taste ignition</div>
  </div>
  <div><span class="badge">mode: <span id="mode">classic</span></span></div>
</header>

<nav aria-label="Primary">
  <a href="/jar/">Jar</a><a href="/jar/day/">Day</a><a href="/tunes/">Tunes</a>
  <a href="/interludes/">Interludes</a><a href="/seeds/">Seeds</a>
  <a href="/references/">References</a><a href="/references/archive/">Archive</a><a href="/references/science/">Science</a>
  <a href="/dreams/">Dreams</a><a href="/compatibility/">Compatibility</a><a href="/storage/">Storage</a><a href="/pollen/">Pollen</a>
</nav>

<section class="panel" style="margin-top:12px">
  <div>
    <span class="badge">Calendar</span>
    <span class="badge">42 days</span>
    <span id="loadStatus" class="badge" style="margin-left:6px">loadingâ€¦</span>
  </div>
  <div class="grid" id="grid"></div>
</section>

<footer>This calendar autoloads <code>data.json</code> from this folder when present.</footer>
</div>

<script>
/* mode */
(function(){var m=localStorage.getItem("jar_mode")||"classic";document.documentElement.dataset.mode=m;document.getElementById("mode").textContent=m})();

/* build blank grid */
const grid=document.getElementById("grid");
for(let d=1; d<=42; d++){
  const cell=document.createElement("div"); cell.className="cell"; cell.dataset.day=d;
  cell.innerHTML = `<b>Day ${d}</b><div class="meta">â€”</div><div class="links"></div>`;
  grid.appendChild(cell);
}

/* JSON loader
   Looks for ./data.json with schema:
{
  "slug": "illumina1",
  "start_date": "2025-11-05",
  "days": [
    {
      "day": 1,
      "date": "2025-11-05",
      "title": "Song / Focus title",
      "song_url": "https://youtube.com/â€¦",
      "seed": "Pumpkin (swallowed)",
      "notes": "Honey â†’ seed â†’ sleep",
      "mode": "honey",             // optional, overrides jar_mode tint for this card
      "interlude": "Sabrina",      // optional
      "watchmen": ["Roaring Kitty"]// optional
    },
    â€¦
  ]
}
*/
const statusEl = document.getElementById("loadStatus");
(async function loadData(){
  try{
    const res = await fetch("./data.json?v=1", {cache:"no-store"});
    if(!res.ok) throw new Error("no data.json");
    const data = await res.json();
    statusEl.textContent = "data.json loaded";

    // fill cells
    (data.days||[]).forEach(item=>{
      const d = Number(item.day); if(!d || d<1 || d>42) return;
      const cell = grid.querySelector(`.cell[data-day="${d}"]`); if(!cell) return;

      // Title line: link to song if provided
      const b = cell.querySelector("b");
      if(item.title){
        if(item.song_url){
          b.innerHTML = `Day ${d} Â· <a href="${item.song_url}" target="_blank" rel="noopener">${item.title}</a>`;
        }else{
          b.textContent = `Day ${d} Â· ${item.title}`;
        }
      }

      // Meta: date + seed + interlude/watchmen
      const meta = [];
      if(item.date) meta.push(item.date);
      if(item.seed) meta.push(item.seed);
      if(item.interlude) meta.push(`Interlude: ${item.interlude}`);
      if(item.watchmen && item.watchmen.length) meta.push(`Watchmen: ${item.watchmen.join(", ")}`);
      cell.querySelector(".meta").textContent = meta.join(" Â· ") || "â€”";

      // Links row
      const links = cell.querySelector(".links"); links.innerHTML = "";
      if(item.song_url){ links.appendChild(linkBtn("Play", item.song_url)); }
      // Day deep link (keeps your existing pattern)
      const dayUrl = `/jar/day/?date=${encodeURIComponent(item.date || "")}`;
      links.appendChild(linkBtn("Day", dayUrl));
      // Optional: seed anchor (to your seed index or a specific page if you map names)
      links.appendChild(linkBtn("Seed", "/seeds/"));

      // Per-card tint override
      if(item.mode){
        if(item.mode==="honey") cell.style.background = "linear-gradient(180deg,rgba(255,211,107,.14),rgba(255,211,107,.05)),#0f1119";
        if(item.mode==="neon")  cell.style.background = "linear-gradient(180deg,rgba(157,252,255,.14),rgba(157,252,255,.05)),#0f1119";
      }
      // Notes (small)
      if(item.notes){
        const note = document.createElement("div");
        note.className="meta"; note.style.opacity=".9";
        note.textContent = item.notes;
        links.after(note);
      }
    });
  }catch(e){
    statusEl.textContent = "no data.json (using placeholders)";
  }
})();

function linkBtn(label, href){
  const a=document.createElement("a");
  a.className="btn"; a.href=href; a.target = href.startsWith("http") ? "_blank" : "_self"; a.rel="noopener";
  a.textContent=label; return a;
}
</script>
</body></html>
