<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Compatibility Grid Â· jar.plnt.earth</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Ctext y='0.9em' font-size='90'%3EðŸ”—%3C/text%3E%3C/svg%3E">
<style>
:root{--bg:#0b0b0d;--panel:#121216;--ink:#eaeaf2;--muted:#a9adc2;--accent:#9dfcff;--accent2:#ffd36b;--grid:#1b1b22;--chip:#191922;--ring:rgba(157,252,255,.35)}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;background:radial-gradient(1200px 800px at 10% -10%,rgba(157,252,255,.06),transparent),radial-gradient(900px 600px at 110% 10%,rgba(255,211,107,.06),transparent),var(--bg);color:var(--ink);font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
a{color:var(--accent);text-decoration:none}a:hover{opacity:.9}
.wrap{max-width:1100px;margin:auto;padding:20px}
header{display:flex;flex-wrap:wrap;gap:10px 16px;align-items:center;justify-content:space-between;margin-bottom:16px}
.brand{display:flex;align-items:center;gap:10px}.dot{width:12px;height:12px;border-radius:999px;background:linear-gradient(135deg,var(--accent),var(--accent2))}
nav a{padding:8px 10px;background:#191922;border:1px solid #22232c;border-radius:10px;color:#e9ecff;text-decoration:none}
h1{font-size:24px;margin:8px 0 4px}.sub{color:var(--muted)}
.panel{background:var(--panel);border:1px solid #1e2030;border-radius:16px;padding:14px;box-shadow:0 0 0 1px rgba(157,252,255,.03) inset}
.gridwrap{overflow:auto;border-radius:14px;border:1px solid #1f2030}
table{border-collapse:separate;border-spacing:0;width:100%;min-width:720px;background:linear-gradient(0deg,rgba(255,255,255,.02),rgba(255,255,255,.02))}
th,td{padding:10px 12px;border-right:1px solid var(--grid);border-bottom:1px solid var(--grid);vertical-align:middle}
th{position:sticky;top:0;background:#11121a;z-index:2}
tr th:first-child, tr td:first-child{left:0;position:sticky;background:#10111a;z-index:3}
thead th{font-weight:600;color:#d6daec;text-align:left}
tbody tr:nth-child(odd) td{background:rgba(255,255,255,.01)}
.choice{cursor:pointer;display:grid;place-items:center;height:40px;border-radius:10px;border:1px solid #2a2d40;background:#131522;font-weight:700;user-select:none}
.choice.good{border-color:#265a3a;background:rgba(118,255,157,.08)}
.choice.ok{border-color:#6b5a26;background:rgba(255,211,107,.08)}
.choice.bad{border-color:#6b2636;background:rgba(255,107,138,.08)}
.footer{margin-top:16px;display:flex;flex-wrap:wrap;gap:8px;justify-content:space-between;align-items:center;color:var(--muted)}
.rowtools{display:flex;gap:6px}
.iconbtn{width:28px;height:28px;border-radius:8px;border:1px solid #2a2d40;background:#151726;display:grid;place-items:center}
.footer{margin-top:16px;margin-bottom:16px}
.hidden{display:none}
</style>
<body>
<div class="wrap">
  <header>
    <div class="brand"><div class="dot"></div><div><h1>Compatibility Grid</h1><div class="sub">Seeds Ã— Honey Â· Smoke Â· Neon Â· Dreams Â· Sex</div></div></div>
    <nav>
      <a href="/jar/">Jar</a><a href="/calendar/illumina1/">Calendar</a><a href="/day/">Day</a>
      <a href="/tunes/">Tunes</a><a href="/interludes/">Interludes</a><a href="/seeds/">Seeds</a>
      <a href="/references/">References</a><a href="/archive/">Archive</a><a href="/science/">Science</a>
      <a href="/compatibility/">Compatibility</a><a href="/dreams/">Dreams</a><a href="/storage/">Storage</a><a href="/pollen/">Pollen</a><a href="/modes/neon/">Modes</a>
    </nav>

    <div class="panel" style="margin-bottom:12px">
      <div style="display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between">
        <div class="legend">
          <span class="key"><span class="badge good">âœ“</span> Harmonic</span>
          <span class="key"><span class="badge ok">~</span> Neutral</span>
          <span class="key"><span class="badge bad">âœ—</span> Clash</span>
        </div>
        <div class="controls">
          <button class="btn" id="exportBtn">Export JSON</button>
          <label class="btn" for="importFile" style="cursor:pointer">Import JSON</label>
          <input id="importFile" type="file" accept="application/json" class="hidden" />
          <button class="btn" id="resetBtn">Reset Grid</button>
          <button class="btn" id="addSeedBtn">Add Seed</button>
        </div>
      </div>
    </div>

    <div class="gridwrap">
      <table id="grid" aria-label="Compatibility grid">
        <thead>
          <tr>
            <th style="min-width:220px">Seed</th>
            <th>Honey</th><th>Smoke</th><th>Neon</th><th>Dreams</th><th>Sex</th>
            <th style="min-width:220px">Notes</th><th>Tools</th>
          </tr>
        </thead>
        <tbody id="gridBody"></tbody>
      </table>
    </div>

    <div class="footer"><div>Data is saved locally in your browser.</div><div>jar.plnt.earth Â· Bee trails (pollen) persist across cycles.</div></div>
  </div>

  <template id="rowTemplate">
    <tr>
      <td>
        <div><input class="seedname" type="text" placeholder="Seed name" /></div>
      </td>
      <td class="choice ok" data-key="honey">~</td>
      <td class="choice ok" data-key="smoke">~</td>
      <td class="choice ok" data-key="neon">~</td>
      <td class="choice ok" data-key="dreams">~</td>
      <td class="choice ok" data-key="sex">~</td>
      <td><textarea class="note rationale" rows="2" placeholder="Why this pairing?"></textarea></td>
      <td class="rowtools"><button class="iconbtn moveUp">â–²</button><button class="iconbtn moveDown">â–¼</button><button class="iconbtn delRow">âœ•</button></td>
    </template>

<script>
// (Same script logic as before for compatibility grid)
// omitted for brevity â€” you can copy your existing logic here,
// ensure data-key mapping etc.
</script>
</body>
</html>
