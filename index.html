<!doctype html>
<html lang="en">
<head>
  <!-- Ensure extended characters render correctly -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Jar ‚Äî Illumina Hub</title>
  <meta name="description" content="Jar is the Illumina hub: days, seeds, anchors, interludes, and archives.">
  <meta name="theme-color" content="#0B0F19">
  <style>
    :root{
      --bg:#0B0F19;           /* pepper black */
      --ink:#E6EAF2;          /* soft off-white */
      --muted:#94A3B8;        /* slate */
      --line:rgba(255,255,255,.12);
      --card:#0F1524;         /* deep ink */
      --accent:#A4E8FF;       /* ice blue */
      --honey:#F7C948;        /* honey gold */
      --good:#34D399;
      --danger:#F87171;
      --shadow:0 16px 40px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:var(--bg);color:var(--ink);
      font:15px/1.55 ui-sans-serif,system-ui,-apple-system,"Segoe UI",Inter,Roboto,Arial,"Apple Color Emoji","Segoe UI Emoji";
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1200px;margin:0 auto;padding:24px}
    header{
      display:flex;gap:16px;align-items:center;justify-content:space-between;flex-wrap:wrap;
      border-bottom:1px solid var(--line);padding-bottom:10px;margin-bottom:18px
    }
    .brand{display:flex;align-items:center;gap:10px}
    .logo{font-size:22px}
    h1{margin:0;font-size:26px;letter-spacing:.2px}
    nav{display:flex;gap:10px;flex-wrap:wrap}
    .btn{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;border:1px solid var(--line);border-radius:12px;
      background:linear-gradient(180deg, rgba(255,255,255,.02), transparent 40%), var(--card);
      transition:transform .15s ease, border-color .15s ease, box-shadow .15s ease;
      font-weight:600;color:var(--ink)
    }
    .btn:hover{transform:translateY(-2px);border-color:rgba(164,232,255,.35);box-shadow:var(--shadow)}
    .btn.gold{border-color:rgba(247,201,72,.35)}
    .pill{
      display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;
      background:rgba(164,232,255,.12); border:1px solid rgba(164,232,255,.35);
      color:#c8f1ff; font-size:12px
    }
    .grid{
      display:grid;gap:14px;margin-top:18px;
      grid-template-columns:repeat(3,minmax(0,1fr));
    }
    @media (max-width:1024px){ .grid{grid-template-columns:repeat(2,minmax(0,1fr));} }
    @media (max-width:640px){  .grid{grid-template-columns:repeat(1,minmax(0,1fr));} }

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.02), transparent 40%) , var(--card);
      border:1px solid var(--line);border-radius:16px;padding:14px;position:relative;overflow:hidden;
      transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
      min-height:140px
    }
    .card:hover{transform:translateY(-3px);box-shadow:var(--shadow);border-color:rgba(164,232,255,.35)}
    .card h3{margin:2px 0 6px 0;font-size:18px}
    .muted{color:var(--muted)}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace;font-size:12px;color:var(--muted)}
    .row{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .emoji{font-size:20px}
    .footer{margin-top:28px;display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;color:var(--muted);font-size:13px}
    .link{color:#BBD7FF;text-decoration:underline dotted 1px}
    .kbd{font:12px/1 ui-monospace,Menlo,Consolas,monospace;background:rgba(255,255,255,.06);border:1px solid var(--line);border-radius:6px;padding:2px 6px}
    .ok{color:var(--good)} .bad{color:var(--danger)}
    /* small helper for sections */
    .section-title{margin-top:10px;font-weight:800;color:#BBD7FF;font-size:12px;letter-spacing:.08em;text-transform:uppercase}
    .list{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
    .chip{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:rgba(255,255,255,.02)}
    /* name preview */
    .namefix{display:flex;gap:8px;align-items:center;margin-top:8px}
    input[type="text"]{
      width:100%;max-width:520px;background:var(--card);border:1px solid var(--line);color:var(--ink);
      padding:10px 12px;border-radius:12px;outline:none
    }
    .mini{font-size:12px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">üçØ</div>
        <div>
          <h1>Jar</h1>
          <div class="mini">Illumina hub ‚Äî days, seeds, anchors, archives</div>
        </div>
      </div>
      <nav>
        <a class="btn" href="/map/" title="See the PLNT constellation">‚ú® Constellation Map</a>
        <a class="btn" href="https://tunes.plnt.earth" target="_blank" rel="noopener">üé∂ Tunes</a>
        <a class="btn" href="https://time.plnt.earth" target="_blank" rel="noopener">‚è≥ Time</a>
        <a class="btn" href="https://zeta.plnt.earth" target="_blank" rel="noopener">üåÄ Zeta</a>
        <span class="pill" title="plnt.earth currently serves Jar">Apex <strong>plnt.earth</strong> ‚Üí Jar</span>
      </nav>
    </header>

    <section class="grid">
      <!-- Calendar / Days -->
      <a class="card" href="/calendar/illumina1/">
        <div class="row"><div class="emoji">üåï</div><h3>Illumina 1 Calendar</h3></div>
        <p class="muted">42-day rhythm of seeds, phases, and anchors. View days and notes.</p>
        <div class="section-title">Quick links</div>
        <div class="list">
          <span class="chip"><span class="emoji">üóìÔ∏è</span> Today view</span>
          <span class="chip"><span class="emoji">üçØ</span> Seeds</span>
          <span class="chip"><span class="emoji">üéß</span> Daily track</span>
        </div>
      </a>

      <!-- Science / Axioms -->
      <a class="card" href="/science/">
        <div class="row"><div class="emoji">üî≠</div><h3>Science & Axioms</h3></div>
        <p class="muted">Time scaling visuals, axioms, and links out to Time + Zeta.</p>
        <div class="section-title">Includes</div>
        <div class="list">
          <span class="chip">t = Gm/c¬≥ ladder</span>
          <span class="chip">Œ±, Œ≤ live constants</span>
          <span class="chip">Infinity games</span>
        </div>
      </a>

      <!-- Map -->
      <a class="card" href="/map/">
        <div class="row"><div class="emoji">‚ú®</div><h3>PLNT Constellation</h3></div>
        <p class="muted">See all tracks orbiting Jar ‚Äî Time, Zeta, DNA, Lighthouse, and more.</p>
        <div class="section-title">Why it‚Äôs here</div>
        <div class="list">
          <span class="chip">Jar as hub</span>
          <span class="chip">Track timelines</span>
          <span class="chip">Live vs TBD</span>
        </div>
      </a>

      <!-- Honey explainer -->
      <a class="card" href="https://honey.plnt.earth" target="_blank" rel="noopener">
        <div class="row"><div class="emoji">üêù</div><h3>Honey</h3></div>
        <p class="muted">Taste notes and rituals ‚Äî the Bee track that keeps the rhythm sticky.</p>
        <div class="section-title">You‚Äôll find</div>
        <div class="list">
          <span class="chip">Seed FAQ</span>
          <span class="chip">Ritual tips</span>
          <span class="chip">Dream trace</span>
        </div>
      </a>

      <!-- Tunes -->
      <a class="card" href="https://tunes.plnt.earth" target="_blank" rel="noopener">
        <div class="row"><div class="emoji">üé∂</div><h3>Tunes</h3></div>
        <p class="muted">Daily player with anchors/interludes ‚Äî stays in view while you scroll.</p>
        <div class="section-title">Status</div>
        <div class="list">
          <span class="chip">Autoplay next</span>
          <span class="chip">Sticky header</span>
          <span class="chip">YouTube & local</span>
        </div>
      </a>

      <!-- Time -->
      <a class="card" href="https://time.plnt.earth" target="_blank" rel="noopener">
        <div class="row"><div class="emoji">‚è≥</div><h3>Time Track</h3></div>
        <p class="muted">Public 42-day proof sprint: fit Œ±, Œ≤; publish predictions; score outcomes.</p>
        <div class="section-title">Artifacts</div>
        <div class="list">
          <span class="chip">SVG ladder</span>
          <span class="chip">Forecast ledger</span>
          <span class="chip">DOI snapshots</span>
        </div>
      </a>
    </section>

    <!-- UTF/diacritics fixer + live preview -->
    <section class="card" style="margin-top:18px;">
      <div class="row"><div class="emoji">üõ†Ô∏è</div><h3>Text Helper ‚Äî fix artist names</h3></div>
      <p class="muted">Jar renders UTF-8 (see <span class="mono">&lt;meta charset="utf-8"&gt;</span>). If your data feed has ASCII fallbacks (‚ÄúBeyonce‚Äù, ‚ÄúManeskin‚Äù, ‚ÄúChloe‚Äù), this helper normalizes to the correct names for display.</p>
      <div class="namefix">
        <input id="nameIn" type="text" placeholder="Type a name (e.g., Beyonce, Maneskin, Chloe, A$AP Rocky)">
        <span id="nameOut" class="pill">‚Üí </span>
      </div>
      <div class="mini" style="margin-top:6px">This runs on render; your stored data can remain unchanged if you prefer.</div>
    </section>

    <div class="footer">
      <div>¬© <span id="yy"></span> PLNT.earth ‚Äî Jar</div>
      <div>
        <a class="link" href="/map/">Constellation</a> ‚Ä¢
        <a class="link" href="https://time.plnt.earth" target="_blank" rel="noopener">Time</a> ‚Ä¢
        <a class="link" href="https://zeta.plnt.earth" target="_blank" rel="noopener">Zeta</a>
      </div>
    </div>
  </div>

  <script>
    // Year
    document.getElementById('yy').textContent = new Date().getFullYear();

    // Minimal name normalizer for common cases.
    // 1) Unicode NFC normalization (handles accent composition).
    // 2) Dictionary-based replacements for common ASCII fallbacks/variants.
    const NAME_FIX = new Map([
      // Core examples you mentioned
      ["beyonce", "Beyonc√©"],
      ["beyonc√©", "Beyonc√©"],
      ["maneskin", "M√•neskin"],
      ["m√•neskin", "M√•neskin"],
      ["chloe", "Chl√∂e"],      // the artist "Chl√∂e" (Bailey)
      ["chlo√´", "Chlo√´"],      // keep option for diaeresis variant
      // A few other frequent offenders (optional)
      ["rosalia", "Rosal√≠a"],
      ["jose gonzalez", "Jos√© Gonz√°lez"],
      ["asap rocky", "A$AP Rocky"], // stylistic name
      ["dua lipa", "Dua Lipa"],     // casing
      ["bts", "BTS"]
    ]);

    function fixName(raw){
      if(!raw) return "";
      // Unicode normalize (NFC) then lowercase for lookup
      const nfc = raw.normalize ? raw.normalize('NFC') : raw;
      const key = nfc.trim().toLowerCase();
      return NAME_FIX.get(key) || nfc; // default to original if unknown
    }

    // Live preview for the helper
    const $in = document.getElementById('nameIn');
    const $out = document.getElementById('nameOut');
    function render(){
      const val = $in.value || "";
      const fixed = fixName(val);
      $out.textContent = "‚Üí " + fixed;
    }
    $in.addEventListener('input', render);
    render();

    // Example usage in your app code:
    // displayName = fixName(rawArtistNameFromJSON)
  </script>
</body>
</html>
