<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jar Constellation — Illumina 1</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><circle cx='32' cy='32' r='28' fill='black'/><path d='M32 6 a26 26 0 1 0 0 52 a18 18 0 1 1 0 -52' fill='white'/></svg>">
  <style>
    :root{
      --bg:#0a0a0a;          /* pepper black */
      --grid:#1a1a1a;        /* faint grid */
      --ink:#e5e7eb;         /* soft white */
      --honey:#ffd166;       /* honey */
      --anchor:#a78bfa;      /* lunar violet */
      --watch:#60a5fa;       /* watchmen blue */
      --emma:#fca5a5;        /* rose */
      --doechii:#34d399;     /* neon green */
      --hot:#f59e0b;         /* hot to go */
      --janet:#93c5fd;       /* cosmic teacher */
      --grid-w: 72px;        /* grid sizing */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:radial-gradient(1200px 800px at 70% 10%, #111 0%, var(--bg) 60%) fixed; color:var(--ink); font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji; overflow:hidden;
    }
    .wrap{display:grid; grid-template-rows:auto 1fr auto; height:100%}
    header,footer{display:flex; align-items:center; gap:16px; padding:12px 16px; background:#0b0b0b; border-bottom:1px solid #111}
    footer{border-top:1px solid #111; border-bottom:none}
    header h1{font-size:18px; margin:0; letter-spacing:.4px}
    header nav{margin-left:auto; display:flex; gap:10px; flex-wrap:wrap}
    a.link{color:#9ae6b4; text-decoration:none; border:1px solid #1f2937; padding:6px 10px; border-radius:999px; font-size:12px}
    a.link:hover{border-color:#374151}

    /* Toolbar */
    .toolbar{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
    .chip{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border:1px solid #1f2937; border-radius:999px; font-size:12px; background:#0c0c0c; cursor:pointer; user-select:none}
    .chip input{accent-color:currentColor}
    .chip[data-color="honey"]{color:var(--honey); border-color:#3a2d12}
    .chip[data-color="anchor"]{color:var(--anchor); border-color:#2f1e44}
    .chip[data-color="watch"]{color:var(--watch); border-color:#0f2746}
    .chip[data-color="emma"]{color:var(--emma); border-color:#3b0d0d}
    .chip[data-color="doechii"]{color:var(--doechii); border-color:#0d2e23}
    .chip[data-color="hot"]{color:var(--hot); border-color:#3a2405}
    .chip[data-color="janet"]{color:var(--janet); border-color:#142a45}

    /* Canvas */
    .stage{position:relative; height:100%;}
    .grid{position:absolute; inset:0; background-image:linear-gradient(to right, var(--grid) 1px, transparent 1px), linear-gradient(to bottom, var(--grid) 1px, transparent 1px); background-size:var(--grid-w) var(--grid-w); mask:linear-gradient(#000, transparent 80%)}
    svg{position:absolute; inset:0; width:100%; height:100%}

    /* Nodes */
    .node{cursor:pointer; transition:transform .18s ease, filter .18s ease}
    .node:hover{transform:translateY(-2px); filter:brightness(1.1)}
    .label{font-size:12px; letter-spacing:.2px; paint-order:stroke; stroke:#0007; stroke-width:.9}

    /* Legend */
    .legend{position:absolute; right:12px; top:12px; padding:10px 12px; background:#0c0c0c; border:1px solid #1f2937; border-radius:12px; font-size:12px; line-height:1.3}
    .leg-row{display:flex; align-items:center; gap:8px; margin:3px 0}
    .dot{width:10px; height:10px; border-radius:50%}

    /* Mini help */
    .help{position:absolute; left:12px; bottom:12px; font-size:12px; opacity:.7}

    /* Hidden on filter */
    .hidden{opacity:0; pointer-events:none}

    /* Links panel */
    .links{display:flex; gap:8px; flex-wrap:wrap}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Jar Constellation · Illumina 1</h1>
      <div class="toolbar" id="toolbar">
        <span class="chip" data-color="honey"><input type="checkbox" data-filter="honey" checked aria-label="toggle honey"/> 🍯 Interludes</span>
        <span class="chip" data-color="anchor"><input type="checkbox" data-filter="anchor" checked aria-label="toggle anchors"/> ☀️/🌕 Anchors</span>
        <span class="chip" data-color="watch"><input type="checkbox" data-filter="watch" checked aria-label="toggle watchmen"/> 🛰 Watchmen</span>
        <span class="chip" data-color="janet"><input type="checkbox" data-filter="janet" checked aria-label="toggle janet"/> 🌙 L. Moon</span>
        <span class="chip" data-color="emma"><input type="checkbox" data-filter="emma" checked aria-label="toggle emma"/> 🎭 Emma</span>
        <span class="chip" data-color="doechii"><input type="checkbox" data-filter="doechii" checked aria-label="toggle doechii"/> 🔥 Doechii</span>
        <span class="chip" data-color="hot"><input type="checkbox" data-filter="hot" checked aria-label="toggle hot to go"/> 💃 Hot‑To‑Go</span>
      </div>
      <nav>
        <a class="link" href="https://jar.plnt.earth/" target="_blank" rel="noopener">Jar</a>
        <a class="link" href="https://tunes.plnt.earth/" target="_blank" rel="noopener">Tunes</a>
        <a class="link" href="https://jar.plnt.earth/calendar/illumina1/" target="_blank" rel="noopener">Calendar</a>
        <a class="link" href="https://jar.plnt.earth/references/" target="_blank" rel="noopener">References</a>
        <a class="link" href="https://jar.plnt.earth/archive/" target="_blank" rel="noopener">Archive</a>
        <a class="link" href="https://jar.plnt.earth/seeds/" target="_blank" rel="noopener">Seeds</a>
      </nav>
    </header>

    <main class="stage">
      <div class="grid" aria-hidden="true"></div>

      <!-- Legend -->
      <div class="legend" id="legend" aria-label="legend">
        <div class="leg-row"><span class="dot" style="background:var(--honey)"></span> 🍯 Interlude (Honey / Taste)</div>
        <div class="leg-row"><span class="dot" style="background:var(--anchor)"></span> ☀️/🌕 Anchor (Solar/Lunar)</div>
        <div class="leg-row"><span class="dot" style="background:var(--watch)"></span> 🛰 Watchmen</div>
        <div class="leg-row"><span class="dot" style="background:var(--janet)"></span> 🌙 L. Moon / Archivist</div>
      </div>

      <!-- SVG Constellation Layer -->
      <svg viewBox="0 0 1600 900" role="img" aria-label="Jar constellation map of NYC + celestial layer">
        <defs>
          <filter id="glow"><feGaussianBlur stdDeviation="4" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
          <linearGradient id="bee" x1="0" x2="1"><stop offset="0" stop-color="#fff" stop-opacity=".0"/><stop offset="1" stop-color="var(--honey)" stop-opacity=".9"/></linearGradient>
        </defs>

        <!-- NYC silhouette (abstract honeycomb Manhattan) -->
        <g opacity=".35">
          <path d="M200,820 220,600 260,520 320,460 400,420 500,390 600,360 720,330 820,320 900,330 980,360 1020,420 1015,500 980,560 930,620 860,680 780,740 700,780 580,810 460,830 320,840z" fill="url(#bee)" stroke="#312e2b" stroke-width="1"/>
        </g>

        <!-- Edges (connections) -->
        <g id="edges" stroke="#233" stroke-opacity=".6">
          <!-- Ariana ↔ Sabrina (anchor to honey) -->
          <line x1="1200" y1="160" x2="860" y2="720" stroke="var(--anchor)" stroke-dasharray="4 6"/>
          <!-- Anchor to other interludes -->
          <line x1="1200" y1="160" x2="980" y2="620" stroke="var(--anchor)" stroke-dasharray="4 6"/>
          <line x1="1200" y1="160" x2="740" y2="660" stroke="var(--anchor)" stroke-dasharray="4 6"/>
          <line x1="1200" y1="160" x2="640" y2="600" stroke="var(--anchor)" stroke-dasharray="4 6"/>
          <line x1="1200" y1="160" x2="560" y2="520" stroke="var(--anchor)" stroke-dasharray="4 6"/>
          <line x1="1200" y1="160" x2="900" y2="540" stroke="var(--anchor)" stroke-dasharray="4 6"/>
          <!-- Sabrina lattice links -->
          <line x1="860" y1="720" x2="980" y2="620" stroke="var(--honey)"/>
          <line x1="860" y1="720" x2="740" y2="660" stroke="var(--honey)"/>
          <line x1="860" y1="720" x2="640" y2="600" stroke="var(--honey)"/>
          <line x1="860" y1="720" x2="560" y2="520" stroke="var(--honey)"/>
          <line x1="980" y1="620" x2="900" y2="540" stroke="var(--honey)"/>
          <!-- Watchmen web -->
          <line x1="300" y1="300" x2="560" y2="520" stroke="var(--watch)"/>
          <line x1="300" y1="300" x2="420" y2="240" stroke="var(--watch)"/>
          <line x1="420" y1="240" x2="640" y2="600" stroke="var(--watch)"/>
          <line x1="420" y1="240" x2="740" y2="660" stroke="var(--watch)"/>
          <line x1="420" y1="240" x2="980" y2="620" stroke="var(--watch)"/>
        </g>

        <!-- Nodes -->
        <g id="nodes" filter="url(#glow)">
          <!-- Ariana Grande (Anchor) -->
          <g class="node anchor" data-group="anchor" data-name="Ariana Grande" data-url="https://tunes.plnt.earth/" transform="translate(1200,160)">
            <circle r="14" fill="var(--anchor)"/>
            <text class="label" x="18" y="4">Ariana (Anchor)</text>
          </g>

          <!-- Mac Miller (ghost node, no link) -->
          <g class="node anchor" data-group="anchor" transform="translate(1120,220)">
            <circle r="8" fill="#c4b5fd" opacity=".45"/>
            <text class="label" x="14" y="4" opacity=".7">Mac (memory)</text>
          </g>

          <!-- Sabrina Carpenter (Honey / Interlude) FiDi -->
          <g class="node honey" data-group="honey" data-name="Sabrina Carpenter" data-url="https://jar.plnt.earth/interludes/sabrina/" transform="translate(860,720)">
            <rect x="-12" y="-12" width="24" height="24" rx="6" fill="var(--honey)"/>
            <text class="label" x="18" y="4">Sabrina · FiDi</text>
          </g>

          <!-- Interludes Pantheon -->
          <g class="node honey emma" data-group="honey emma" data-name="Emma Stone" data-url="https://jar.plnt.earth/interludes/emma-stone/" transform="translate(980,620)">
            <rect x="-11" y="-11" width="22" height="22" rx="6" fill="var(--emma)"/>
            <text class="label" x="16" y="4">Emma</text>
          </g>
          <g class="node honey doechii" data-group="honey doechii" data-name="Doechii" data-url="https://jar.plnt.earth/interludes/doechii/" transform="translate(740,660)">
            <rect x="-11" y="-11" width="22" height="22" rx="6" fill="var(--doechii)"/>
            <text class="label" x="16" y="4">Doechii</text>
          </g>
          <g class="node honey hot" data-group="honey hot" data-name="Hot To Go" data-url="https://jar.plnt.earth/interludes/hot-to-go/" transform="translate(640,600)">
            <rect x="-11" y="-11" width="22" height="22" rx="6" fill="var(--hot)"/>
            <text class="label" x="16" y="4">Hot‑To‑Go</text>
          </g>
          <g class="node honey janet" data-group="honey janet" data-name="Janet Planet" data-url="https://jar.plnt.earth/interludes/janet-planet/" transform="translate(560,520)">
            <rect x="-11" y="-11" width="22" height="22" rx="6" fill="var(--janet)"/>
            <text class="label" x="16" y="4">Janet Planet</text>
          </g>

          <!-- L. Moon (Archivist / Scientist) hub -->
          <g class="node janet" data-group="janet" data-name="L. Moon" data-url="https://jar.plnt.earth/references/illumina/" transform="translate(900,540)">
            <circle r="10" fill="var(--janet)"/>
            <text class="label" x="16" y="4">L. Moon · Archive</text>
          </g>

          <!-- NYC Honey Cells (contextual) -->
          <g class="node honey" data-group="honey" data-name="SoHo" data-url="https://jar.plnt.earth/honey/soho/" transform="translate(820,660)">
            <rect x="-7" y="-7" width="14" height="14" rx="4" fill="var(--honey)" opacity=".7"/>
            <text class="label" x="12" y="4" opacity=".8">SoHo</text>
          </g>
          <g class="node honey" data-group="honey" data-name="Lower East Side" data-url="https://jar.plnt.earth/honey/les/" transform="translate(760,700)">
            <rect x="-7" y="-7" width="14" height="14" rx="4" fill="var(--honey)" opacity=".7"/>
            <text class="label" x="12" y="4" opacity=".8">LES</text>
          </g>
          <g class="node honey" data-group="honey" data-name="Williamsburg" data-url="https://jar.plnt.earth/honey/williamsburg/" transform="translate(700,740)">
            <rect x="-7" y="-7" width="14" height="14" rx="4" fill="var(--honey)" opacity=".7"/>
            <text class="label" x="12" y="4" opacity=".8">Wburg</text>
          </g>
          <g class="node honey" data-group="honey" data-name="LIC" data-url="https://jar.plnt.earth/honey/lic/" transform="translate(660,780)">
            <rect x="-7" y="-7" width="14" height="14" rx="4" fill="var(--honey)" opacity=".7"/>
            <text class="label" x="12" y="4" opacity=".8">LIC</text>
          </g>

          <!-- Watchmen candidates (sample) -->
          <g class="node watch" data-group="watch" data-name="Roaring Kitty" data-url="https://jar.plnt.earth/watchmen/roaring-kitty/" transform="translate(300,300)">
            <circle r="10" fill="var(--watch)"/>
            <text class="label" x="16" y="4">Roaring Kitty</text>
          </g>
          <g class="node watch" data-group="watch" data-name="Anonymous" data-url="https://jar.plnt.earth/watchmen/anonymous/" transform="translate(420,240)">
            <circle r="9" fill="var(--watch)"/>
            <text class="label" x="14" y="4">Anonymous</text>
          </g>

          <!-- Solar You (Victory Song) -->
          <g class="node anchor" data-group="anchor" data-name="☀️ Victory Song" data-url="https://jar.plnt.earth/victory-song/" transform="translate(1400,120)">
            <circle r="12" fill="var(--anchor)"/>
            <text class="label" x="16" y="4">☀️ Victory Song</text>
          </g>
        </g>
      </svg>

      <div class="help">Tip: toggle groups above; click any node to open its page in a new tab.</div>
    </main>

    <footer>
      <div class="links">
        <a class="link" href="https://jar.plnt.earth/day/" target="_blank" rel="noopener">Day</a>
        <a class="link" href="https://jar.plnt.earth/constellation/" target="_blank" rel="noopener">Constellation</a>
        <a class="link" href="https://jar.plnt.earth/pairs/" target="_blank" rel="noopener">Pairs</a>
        <a class="link" href="https://jar.plnt.earth/interludes/" target="_blank" rel="noopener">Interludes</a>
        <a class="link" href="https://jar.plnt.earth/science/" target="_blank" rel="noopener">Science</a>
      </div>
      <div style="margin-left:auto; font-size:12px; opacity:.7">Illumina 1 · Nov 5 – Dec 17, 2025</div>
    </footer>
  </div>

  <script>
    (function(){
      var nodes = document.querySelectorAll('#nodes .node');
      for (var i=0;i<nodes.length;i++){
        (function(n){
          var url = n.getAttribute('data-url');
          if(url){
            n.addEventListener('click', function(){ window.open(url, '_blank'); });
          }
        })(nodes[i]);
      }
      var toolbar = document.getElementById('toolbar');
      toolbar.addEventListener('change', function(e){
        var t = e.target;
        if(t && t.matches('input[type="checkbox"][data-filter]')){
          var group = t.getAttribute('data-filter');
          var on = t.checked;
          var list = document.querySelectorAll('.'+group+':not(svg)');
          for (var j=0;j<list.length;j++){
            if(on){ list[j].classList.remove('hidden'); }
            else{ list[j].classList.add('hidden'); }
          }
          // Special handling: category chips for sub-flavors under honey
          if(['emma','doechii','hot','janet'].indexOf(group) > -1){
            var sub = document.querySelectorAll('.'+group);
            for (var k=0;k<sub.length;k++){
              if(on){ sub[k].classList.remove('hidden'); }
              else{ sub[k].classList.add('hidden'); }
            }
          }
        }
      });
    })();
  </script>
</body>
</html>
